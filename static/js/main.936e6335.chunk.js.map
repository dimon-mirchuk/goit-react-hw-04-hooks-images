{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/Button/Button.module.css","components/ImageGallery/ImageGallery.module.css","components/Spinner/Spinner.module.css","components/SearchBar/SearchBar.module.css","helpers/Mapper.js","components/SearchBar/SearchBar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Modal/Modal.js","components/Button/Button.js","components/Spinner/Spinner.js","components/App.js","Service/ServiceAPI.js","index.js"],"names":["module","exports","mapper","images","map","id","largeImageURL","webformatURL","searchbar","styles","searchForm","searchFormButton","searchFormInput","searchFormButtonLabel","SearchBar","onSubmit","useState","query","setQuery","className","e","preventDefault","trim","toast","error","type","autoComplete","autoFocus","placeholder","value","onChange","currentTarget","toLowerCase","imageGalleryItem","imageGalleryItemImage","ImageGalleryItem","onClickImg","src","alt","onClick","ImageGallery","imageGallery","image","key","overlay","modal","modalRoot","document","querySelector","Modal","onClose","modalImg","useEffect","handleKeydown","code","window","addEventListener","removeEventListener","createPortal","target","wrapper","button","Button","LoadMore","Spinner","color","height","width","App","page","setPage","setImages","largeImage","setLargeImage","isLoading","setIsLoading","showModal","setShowModal","axios","get","then","response","data","hits","api","prevImages","catch","finally","scrollTo","top","documentElement","scrollHeight","behavior","toggleModal","renderContent","length","style","modalImage","prevPage","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.936e6335.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"mageGalleryItem\":\"ImageGalleryItem_mageGalleryItem__f_hBH\",\"imageGalleryItemImage\":\"ImageGalleryItem_imageGalleryItemImage__ZrQyJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__36Isl\",\"modal\":\"Modal_modal__3A9nd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Button_wrapper__26hao\",\"button\":\"Button_button__3zgpw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGallery\":\"ImageGallery_imageGallery__3lxpy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Spinner_wrapper__2ZBRc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"SearchBar_searchbar__35WEN\",\"searchForm\":\"SearchBar_searchForm__1Fipl\",\"searchFormButton\":\"SearchBar_searchFormButton__2HTro\",\"searchFormButtonLabel\":\"SearchBar_searchFormButtonLabel__1FDm6\",\"searchFormInput\":\"SearchBar_searchFormInput__3Gt32\"};","const mapper = (images) => {\r\n  return images.map(({ id, largeImageURL, webformatURL }) => ({\r\n    id,\r\n    largeImageURL,\r\n    webformatURL,\r\n  }));\r\n};\r\n\r\nexport default mapper;\r\n","import { useState } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { toast } from \"react-toastify\";\r\nimport styles from \"./SearchBar.module.css\";\r\n\r\nconst {\r\n  searchbar,\r\n  searchForm,\r\n  searchFormButton,\r\n  searchFormInput,\r\n  searchFormButtonLabel,\r\n} = styles;\r\n\r\nfunction SearchBar ({onSubmit}) {\r\n\r\nconst [query, setQuery] = useState(\"\")\r\n\r\n  \r\n  const handleChange = (e) => {\r\n    setQuery( e.currentTarget.value.toLowerCase() );\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    if (query.trim() === \"\") {\r\n      toast.error(\"Please enter the name of the request\");\r\n      return;\r\n    }\r\n\r\n    onSubmit(query);\r\n    setQuery(\"\");\r\n  };\r\n    return (\r\n      <header className={searchbar}>\r\n        <form className={searchForm} onSubmit={handleSubmit}>\r\n          <button type=\"submit\" className={searchFormButton}>\r\n            <span className={searchFormButtonLabel}>Search</span>\r\n          </button>\r\n          <input\r\n            className={searchFormInput}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            value={query}\r\n            onChange={handleChange}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n\r\n  SearchBar.propTypes = {\r\n    onSubmit: PropTypes.func.isRequired,\r\n  };\r\n\r\nexport default SearchBar;\r\n","import PropTypes from \"prop-types\";\r\nimport styles from \"./ImageGalleryItem.module.css\";\r\n\r\nconst { imageGalleryItem, imageGalleryItemImage } = styles;\r\n\r\nconst ImageGalleryItem = ({ webformatURL, largeImageURL, onClickImg }) => {\r\n  return (\r\n    <li className={imageGalleryItem}>\r\n      <img\r\n        src={webformatURL}\r\n        alt=\"\"\r\n        className={imageGalleryItemImage}\r\n        onClick={() => onClickImg({ largeImageURL })}\r\n      />\r\n    </li>\r\n  );\r\n};\r\n\r\nImageGalleryItem.propTypes = {\r\n  webformatURL: PropTypes.string.isRequired,\r\n  largeImageURL: PropTypes.string.isRequired,\r\n  onClickImg: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import PropTypes from \"prop-types\";\r\nimport ImageGalleryItem from \"../ImageGalleryItem\";\r\nimport styles from \"./ImageGallery.module.css\";\r\n\r\nconst ImageGallery = ({ images, onClickImg }) => {\r\n  return (\r\n    <ul className={styles.imageGallery}>\r\n      {images.map((image) => (\r\n        <ImageGalleryItem {...image} key={image.id} onClickImg={onClickImg} />\r\n      ))}\r\n    </ul>\r\n  );\r\n};\r\n\r\nImageGallery.propTypes = {\r\n  images: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      id: PropTypes.number.isRequired,\r\n    }).isRequired\r\n  ).isRequired,\r\n};\r\n\r\nexport default ImageGallery;\r\n","import { useEffect } from \"react\";\r\nimport { createPortal } from \"react-dom\";\r\nimport PropTypes from \"prop-types\";\r\nimport styles from \"./Modal.module.css\";\r\n\r\nconst { overlay, modal } = styles;\r\nconst modalRoot = document.querySelector(\"#modal-root\");\r\n\r\nfunction Modal({ onClose, modalImg }) {\r\n  useEffect(() => {\r\n    const handleKeydown = (e) => {\r\n      if (e.code === \"Escape\") {\r\n        onClose();\r\n      }\r\n    };\r\n    window.addEventListener('keydown', handleKeydown);\r\n    return () => {\r\n      window.removeEventListener('keydown', handleKeydown);\r\n    };\r\n  }, [onClose])\r\n\r\n\r\n  const handleBackdropClick = (e) => {\r\n    if (e.currentTarget === e.target) {\r\n      onClose();\r\n    }\r\n  };\r\n\r\n      return createPortal(\r\n      <div className={overlay} onClick={handleBackdropClick}>\r\n        <div className={modal}>\r\n          <img src={modalImg} alt=\"\" />\r\n        </div>\r\n      </div>,\r\n      modalRoot\r\n    );\r\n  }\r\n\r\n\r\nModal.propTypes = {\r\n  onClose: PropTypes.func.isRequired,\r\n  modalImg: PropTypes.string.isRequired,\r\n}\r\n\r\n\r\nexport default Modal;\r\n","import PropTypes from \"prop-types\";\r\nimport styles from \"./Button.module.css\";\r\n\r\nconst { wrapper, button } = styles;\r\n\r\nconst Button = ({ LoadMore }) => {\r\n  return (\r\n    <div className={wrapper}>\r\n      <button type=\"button\" className={button} onClick={LoadMore}>\r\n        load more\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nButton.propTypes = {\r\n  LoadMore: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Button;\r\n","import \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\nimport Loader from \"react-loader-spinner\";\r\nimport styles from \"./Spinner.module.css\";\r\n\r\nconst Spinner = () => {\r\n  return (\r\n    <div className={styles.wrapper}>\r\n      <Loader type=\"BallTriangle\" color=\"#00BFFF\" height={80} width={80} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Spinner;\r\n","import { useState, useEffect } from \"react\";\r\nimport { ToastContainer, toast } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport style from \"./App.css\";\r\nimport mapper from \"../helpers/Mapper\";\r\nimport * as api from \"../Service/ServiceAPI\";\r\nimport SearchBar from \"./SearchBar\";\r\nimport ImageGallery from \"./ImageGallery\";\r\nimport Modal from \"./Modal\";\r\nimport Button from \"./Button\";\r\nimport Spinner from \"./Spinner\";\r\n\r\nfunction App() {\r\n  const [query, setQuery] = useState(\"\");\r\n  const [page, setPage] = useState(1);\r\n  const [images, setImages] = useState([]);\r\n  const [largeImage, setLargeImage] = useState(\"\");\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [showModal, setShowModal] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const getImages = () => {\r\n      if (!query) {\r\n        return;\r\n      }\r\n      setIsLoading(true);\r\n\r\n      api\r\n        .getImages({ query, page })\r\n        .then((response) => {\r\n          setImages((prevImages) => [...prevImages, ...mapper(response)]);\r\n        })\r\n        .catch((error) =>\r\n          toast.error(\"Woops, something went wrong... Try again later.\")\r\n        )\r\n        .finally(() => {\r\n          setIsLoading(false);\r\n          if (page > 1) {\r\n            window.scrollTo({\r\n              top: document.documentElement.scrollHeight,\r\n              behavior: \"smooth\",\r\n            });\r\n          }\r\n        });\r\n    };\r\n    getImages();\r\n  }, [page, query]);\r\n\r\n  const onChangeQuery = (query) => {\r\n    setQuery(query);\r\n    setPage(1);\r\n    setImages([]);\r\n  };\r\n\r\n  const onLoadMore = () => {\r\n    setIsLoading(true);\r\n    setPage((prevPage) => prevPage + 1);\r\n  };\r\n\r\n  const toggleModal = () => {\r\n    setShowModal(!showModal);\r\n  };\r\n\r\n  const openModal = (modalImage) => {\r\n    setLargeImage(modalImage);\r\n    toggleModal();\r\n  };\r\n\r\n  const renderContent = images.length > 0 && !isLoading;\r\n  return (\r\n    <div className={style.App}>\r\n      <SearchBar onSubmit={onChangeQuery} />\r\n      {images.length > 0 && (\r\n        <ImageGallery images={images} onClickImg={openModal} />\r\n      )}\r\n      {renderContent && <Button LoadMore={onLoadMore} />}\r\n      {isLoading && <Spinner />}\r\n      {showModal && (\r\n        <Modal onClose={toggleModal} modalImg={largeImage.largeImageURL} />\r\n      )}\r\n      <ToastContainer />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import axios from \"axios\";\r\n\r\nconst BASE_URL = \"https://pixabay.com/api/\";\r\nconst API_KEY = \"23364798-13e999d1bd4f00c21ed04ef58\";\r\n\r\nexport const getImages = ({ query, page }) =>\r\n  axios\r\n    .get(\r\n      `${BASE_URL}?q=${query}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`\r\n    )\r\n    .then((response) => response.data.hits);\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./components/App\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}