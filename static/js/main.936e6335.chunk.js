(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{13:function(e,t,a){e.exports={mageGalleryItem:"ImageGalleryItem_mageGalleryItem__f_hBH",imageGalleryItemImage:"ImageGalleryItem_imageGalleryItemImage__ZrQyJ"}},14:function(e,t,a){e.exports={overlay:"Modal_overlay__36Isl",modal:"Modal_modal__3A9nd"}},15:function(e,t,a){e.exports={wrapper:"Button_wrapper__26hao",button:"Button_button__3zgpw"}},26:function(e,t,a){},28:function(e,t,a){e.exports={imageGallery:"ImageGallery_imageGallery__3lxpy"}},30:function(e,t,a){e.exports={wrapper:"Spinner_wrapper__2ZBRc"}},35:function(e,t,a){},6:function(e,t,a){e.exports={searchbar:"SearchBar_searchbar__35WEN",searchForm:"SearchBar_searchForm__1Fipl",searchFormButton:"SearchBar_searchFormButton__2HTro",searchFormButtonLabel:"SearchBar_searchFormButtonLabel__1FDm6",searchFormInput:"SearchBar_searchFormInput__3Gt32"}},77:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(5),o=a.n(c),s=(a(35),a(16)),i=a(4),l=a(8),u=(a(36),a(26)),m=a.n(u),b=function(e){return e.map((function(e){return{id:e.id,largeImageURL:e.largeImageURL,webformatURL:e.webformatURL}}))},j=a(27),h=a.n(j),g=a(6),p=a.n(g),d=a(1),f=p.a.searchbar,O=p.a.searchForm,_=p.a.searchFormButton,x=p.a.searchFormInput,y=p.a.searchFormButtonLabel;var I=function(e){var t=e.onSubmit,a=Object(r.useState)(""),n=Object(i.a)(a,2),c=n[0],o=n[1];return Object(d.jsx)("header",{className:f,children:Object(d.jsxs)("form",{className:O,onSubmit:function(e){e.preventDefault(),""!==c.trim()?(t(c),o("")):l.b.error("Please enter the name of the request")},children:[Object(d.jsx)("button",{type:"submit",className:_,children:Object(d.jsx)("span",{className:y,children:"Search"})}),Object(d.jsx)("input",{className:x,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:c,onChange:function(e){o(e.currentTarget.value.toLowerCase())}})]})})},v=a(17),w=a(13),S=a.n(w),B=S.a.imageGalleryItem,F=S.a.imageGalleryItemImage,L=function(e){var t=e.webformatURL,a=e.largeImageURL,r=e.onClickImg;return Object(d.jsx)("li",{className:B,children:Object(d.jsx)("img",{src:t,alt:"",className:F,onClick:function(){return r({largeImageURL:a})}})})},k=a(28),N=a.n(k),G=function(e){var t=e.images,a=e.onClickImg;return Object(d.jsx)("ul",{className:N.a.imageGallery,children:t.map((function(e){return Object(r.createElement)(L,Object(v.a)(Object(v.a)({},e),{},{key:e.id,onClickImg:a}))}))})},C=a(14),E=a.n(C),R=E.a.overlay,U=E.a.modal,T=document.querySelector("#modal-root");var q=function(e){var t=e.onClose,a=e.modalImg;return Object(r.useEffect)((function(){var e=function(e){"Escape"===e.code&&t()};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[t]),Object(c.createPortal)(Object(d.jsx)("div",{className:R,onClick:function(e){e.currentTarget===e.target&&t()},children:Object(d.jsx)("div",{className:U,children:Object(d.jsx)("img",{src:a,alt:""})})}),T)},M=a(15),H=a.n(M),J=H.a.wrapper,z=H.a.button,A=function(e){var t=e.LoadMore;return Object(d.jsx)("div",{className:J,children:Object(d.jsx)("button",{type:"button",className:z,onClick:t,children:"load more"})})},D=(a(56),a(29)),P=a.n(D),W=a(30),Z=a.n(W),Q=function(){return Object(d.jsx)("div",{className:Z.a.wrapper,children:Object(d.jsx)(P.a,{type:"BallTriangle",color:"#00BFFF",height:80,width:80})})};var K=function(){var e=Object(r.useState)(""),t=Object(i.a)(e,2),a=t[0],n=t[1],c=Object(r.useState)(1),o=Object(i.a)(c,2),u=o[0],j=o[1],g=Object(r.useState)([]),p=Object(i.a)(g,2),f=p[0],O=p[1],_=Object(r.useState)(""),x=Object(i.a)(_,2),y=x[0],v=x[1],w=Object(r.useState)(!1),S=Object(i.a)(w,2),B=S[0],F=S[1],L=Object(r.useState)(!1),k=Object(i.a)(L,2),N=k[0],C=k[1];Object(r.useEffect)((function(){a&&(F(!0),function(e){var t=e.query,a=e.page;return h.a.get("".concat("https://pixabay.com/api/","?q=").concat(t,"&page=").concat(a,"&key=").concat("23364798-13e999d1bd4f00c21ed04ef58","&image_type=photo&orientation=horizontal&per_page=12")).then((function(e){return e.data.hits}))}({query:a,page:u}).then((function(e){O((function(t){return[].concat(Object(s.a)(t),Object(s.a)(b(e)))}))})).catch((function(e){return l.b.error("Woops, something went wrong... Try again later.")})).finally((function(){F(!1),u>1&&window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})})))}),[u,a]);var E=function(){C(!N)},R=f.length>0&&!B;return Object(d.jsxs)("div",{className:m.a.App,children:[Object(d.jsx)(I,{onSubmit:function(e){n(e),j(1),O([])}}),f.length>0&&Object(d.jsx)(G,{images:f,onClickImg:function(e){v(e),E()}}),R&&Object(d.jsx)(A,{LoadMore:function(){F(!0),j((function(e){return e+1}))}}),B&&Object(d.jsx)(Q,{}),N&&Object(d.jsx)(q,{onClose:E,modalImg:y.largeImageURL}),Object(d.jsx)(l.a,{})]})};o.a.render(Object(d.jsx)(n.a.StrictMode,{children:Object(d.jsx)(K,{})}),document.getElementById("root"))}},[[77,1,2]]]);
//# sourceMappingURL=main.936e6335.chunk.js.map